<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="fcall">
<title>Getting Started • fcall</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Lora-0.4.8/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started">
<meta property="og:description" content="fcall">
<meta property="og:image" content="https://ketchbrookanalytics.github.io/fcall/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">fcall</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Package Information</h6>
    <a class="dropdown-item" href="../getting-started.html">Getting Started</a>
    <a class="dropdown-item" href="../data-structure.html">Data Structure</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Database</h6>
    <a class="dropdown-item" href="../articles/database.html">Connecting to the Database (via ODBC)</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ketchbrookanalytics/fcall/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Getting Started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ketchbrookanalytics/fcall/blob/HEAD/vignettes/getting-started.Rmd" class="external-link"><code>vignettes/getting-started.Rmd</code></a></small>
      <div class="d-none name"><code>getting-started.Rmd</code></div>
    </div>

    
    
<div class="section level3">
<h3 id="downloading-data">Downloading Data<a class="anchor" aria-label="anchor" href="#downloading-data"></a>
</h3>
<p>You can download data for a particular period using
<code><a href="../reference/download_data.html">download_data()</a></code>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ketchbrookanalytics.github.io/fcall/">fcall</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Download FCA Call Report data from March 2023</span></span>
<span><span class="fu"><a href="../reference/download_data.html">download_data</a></span><span class="op">(</span></span>
<span>  year <span class="op">=</span> <span class="fl">2023</span>,</span>
<span>  month <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  dest <span class="op">=</span> <span class="st">"path/to/some/folder"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="processing-files">Processing Files<a class="anchor" aria-label="anchor" href="#processing-files"></a>
</h3>
<p>You can parse the data from the downloaded <em>.TXT</em> files into
tidy R data frames using <code><a href="../reference/process_data.html">process_data()</a></code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Process data from March 2023</span></span>
<span><span class="va">data_2023_03</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/process_data.html">process_data</a></span><span class="op">(</span>dir <span class="op">=</span> <span class="st">"path/to/some/folder"</span><span class="op">)</span></span></code></pre></div>
<p>You can also use <code><a href="../reference/process_metadata_file.html">process_metadata_file()</a></code> and
<code><a href="../reference/process_data_file.html">process_data_file()</a></code> to process single metadata and data
files, respectively.</p>
<p><strong>Note: <code><a href="../reference/process_data.html">process_data()</a></code> has only been tested by the
development team on Call Report data from March 2020 to present. Please
let us know if you find issues with processing data older than
2020.</strong></p>
</div>
<div class="section level3">
<h3 id="comparing-metadata-from-different-periods">Comparing Metadata from Different Periods<a class="anchor" aria-label="anchor" href="#comparing-metadata-from-different-periods"></a>
</h3>
<p>The FCA Call Report data has changed over time, making it difficult
to perform analysis across multiple periods. To ensure that such
comparisons can be made safely, the <code><a href="../reference/compare_metadata.html">compare_metadata()</a></code>
returns differences in the data structure (files, column names, and
column definitions) between two sets of FCA Call Report data.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Download data from June 2023</span></span>
<span><span class="fu"><a href="../reference/download_data.html">download_data</a></span><span class="op">(</span></span>
<span>  year <span class="op">=</span> <span class="fl">2023</span>,</span>
<span>  month <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  dest <span class="op">=</span> <span class="st">"path/to/some/other/folder"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compare metadata files from March and June 2023</span></span>
<span><span class="fu"><a href="../reference/compare_metadata.html">compare_metadata</a></span><span class="op">(</span></span>
<span>  dir1 <span class="op">=</span> <span class="st">"path/to/some/folder"</span>,   <span class="co"># where we downloaded the March 2023 data</span></span>
<span>  dir2 <span class="op">=</span> <span class="st">"path/to/some/other/folder"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="internal-datasets">Internal Datasets<a class="anchor" aria-label="anchor" href="#internal-datasets"></a>
</h3>
<p>{fcall} contains the following internal datasets:</p>
<ul>
<li>
<code>file_metadata</code> contains a short description about each
file.</li>
<li>The remaining datasets represent a series of “lookup table”
dictionaries for the mapping between integer codes in the raw data and
their plain-English descriptions in the associated metadata. These
datasets follow the naming convention
<code>&lt;file&gt;__&lt;column&gt;</code>, where <code>file</code> is
the name of the raw data file and <code>column</code> is the name of the
column in the associated metadata file for which the dataset provides
the codes/definition mapping. For example, the <code>RCB</code> Call
Report data includes the column <code>INV_CODE</code>; the
<code>RCB__INV_CODE</code> internal dataset in {fcall} provides the
mapping between these integer codes and the associated plain-English
definitions for each.</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">RCB__INV_CODE</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Classes 'tbl_df', 'tbl' and 'data.frame':    35 obs. of  2 variables:</span></span>
<span><span class="co">#&gt;  $ code : int  10 15 17 25 29 35 40 41 60 52 ...</span></span>
<span><span class="co">#&gt;  $ value: chr  "U.S. Treasury securities" "SBA securities" "Other U.S. Gov't securities and Agency(excluding MBS)" "Securities fully and unconditionally guaranteed by a GSE (excluding MBS and Farmer Mac securities)" ...</span></span></code></pre></div>
<p>To streamline data retrieval and usage, a dedicated function named
<code><a href="../reference/get_codes_dict.html">get_codes_dict()</a></code> is also available. This function allows
users to access code dictionaries for a dataset without needing to
remember the specific column name in the dataset that contains the
codes:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get codes dictionary information for "RCB" data</span></span>
<span><span class="fu"><a href="../reference/get_codes_dict.html">get_codes_dict</a></span><span class="op">(</span><span class="st">"RCB"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 2</span></span>
<span><span class="co">#&gt;  $ codes_dict   :Classes 'tbl_df', 'tbl' and 'data.frame':   35 obs. of  2 variables:</span></span>
<span><span class="co">#&gt;   ..$ code : int [1:35] 10 15 17 25 29 35 40 41 60 52 ...</span></span>
<span><span class="co">#&gt;   ..$ value: chr [1:35] "U.S. Treasury securities" "SBA securities" "Other U.S. Gov't securities and Agency(excluding MBS)" "Securities fully and unconditionally guaranteed by a GSE (excluding MBS and Farmer Mac securities)" ...</span></span>
<span><span class="co">#&gt;  $ codes_varname: chr "INV_CODE"</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Michael Thomas, Ivan Millanes, Ketchbrook Analytics.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
