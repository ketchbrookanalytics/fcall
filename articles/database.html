<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="fcall">
<title>Database • fcall</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Lora-0.4.8/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Database">
<meta property="og:description" content="fcall">
<meta property="og:image" content="https://ketchbrookanalytics.github.io/fcall/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">fcall</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/database.html">Database</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ketchbrookanalytics/fcall/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Database</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ketchbrookanalytics/fcall/blob/HEAD/vignettes/database.Rmd" class="external-link"><code>vignettes/database.Rmd</code></a></small>
      <div class="d-none name"><code>database.Rmd</code></div>
    </div>

    
    
<p>In addition to {fcall}, Ketchbrook Analytics has also developed a
cloud-based PostgreSQL database which contains the curated Call Report
data as tables in a traditional, relational SQL database. This provides
the opportunity to connect from any application with access to an
internet connection (e.g., Excel, Power BI, Tableau, etc.), as well as
easily analyze the data <em>over time</em> (across multiple
quarters).</p>
<p>Each table/column in the database is named consistently with the
file/field naming conventions in the Call Report .zip file.</p>
<p>The following tutorial serves as a guide to connect Excel (on a
Windows operating system) to the PostgreSQL database, though the
principles remain the same regardless of the application or operating
system.</p>
<div class="section level2">
<h2 id="download-the-psqlodbc-driver">1.0 - Download the psqlodbc Driver<a class="anchor" aria-label="anchor" href="#download-the-psqlodbc-driver"></a>
</h2>
<p>In order to setup an ODBC connection between your local machine and
the PostgreSQL database, first download and install the
<strong>psqlodbc</strong> driver from <a href="https://www.postgresql.org/ftp/odbc/versions/msi/" class="external-link">https://www.postgresql.org/ftp/odbc/versions/msi/</a>.
We recommend downloading the latest version that matches your computer’s
specifications (e.g., for 64-bit operating systems, download the file
that ends in <em>“-x64.zip”</em>).</p>
</div>
<div class="section level2">
<h2 id="add-an-odbc-data-source">2.0 - Add an ODBC Data Source<a class="anchor" aria-label="anchor" href="#add-an-odbc-data-source"></a>
</h2>
<p>Next, open the <em>ODBC Data Source Administrator</em> application on
your local PC by searching for “ODBC Data Sources” in your “Start” menu
or desktop search bar. On the “Drivers” tab, you should see multiple
ODBC Drivers installed that have a name that starts with
“PostgreSQL…”.</p>
<p><br></p>
<p><img src="odbc1.png" align="middle" height="350"></p>
<p><br></p>
<p>Navigate back to the “User DSN” tab and click the “Add” button in the
upper right-hand side of the ODBC Data Source.</p>
<p><br></p>
<p><img src="odbc2.png" align="middle" height="350"></p>
<p><br></p>
<p>In the pop-up window, select the appropriate PostgreSQL ANSI driver
that matches your system specifications. For most users this will be
“PostgreSQL ANSI(x64)”. Then select “Finish”.</p>
<p><br></p>
<p><img src="odbc3.png" align="middle" height="350"></p>
<p><br></p>
<p>On the last screen, enter the connection credentials provided by
Ketchbrook Analytics (Database, Server, Port, User Name, and Password),
and set SSL Mode to “require”. The click “Save”.</p>
<p><br></p>
<p><img src="odbc4.png" align="middle" height="350"></p>
<p><br></p>
<p>You have now successfully established a connection between your PC
and the PostgreSQL cloud database hosted by Ketchbrook Analytics.</p>
</div>
<div class="section level2">
<h2 id="query-the-database-from-excel">3.0 - Query the Database from Excel<a class="anchor" aria-label="anchor" href="#query-the-database-from-excel"></a>
</h2>
<p>In an Excel workbook, navigate to the “Data” tab. Click the “Get
Data” button on the left-hand side of the ribbon, and select “From Other
Sources”, then “From ODBC”.</p>
<p><br></p>
<p><img src="excel1.png" align="middle" height="450"></p>
<p><br></p>
<p>In the pop-up window, select the “PostgreSQL” option that matches the
name of the ODBC connection you set up in Step 2.</p>
<p>Optionally, you can expand the “Advanced Options” and write a custom
SQL query against the database. However, most users will find simply
clicking the “OK” button and moving into the Power Query interface the
preferred method of querying the database.</p>
<p><br></p>
<p><img src="excel2.png" align="middle" height="225"></p>
<p><br></p>
<p>On the next screen, select the database table to query. Note that the
curated metadata files are also stored in the database (as the tables
that start with <em>“D_”</em>). Once a table has been selected, select
“Load” to immediately load the entire table into your Excel workbook, or
“Transform Data” to launch the Power Query editor and leverage the suite
of ETL tools available through the Power Query interface.</p>
<p><br></p>
<p><img src="excel3.png" align="middle" height="550"></p>
<p><br></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Michael Thomas, Ivan Millanes, Ketchbrook Analytics.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
